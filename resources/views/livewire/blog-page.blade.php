    <!-- Breadcrumbs Navigation -->
    <div class="flex flex-col gap-2 items-center pt-2 pb-24 bg-zinc-100">
        <!-- Logo Header Section -->

        <!-- Content Container -->
        <div class="relative h-auto container  max-md:px-4 max-md:py-0 mx-auto">
            <livewire:components.breadcrumbs :currentPage="__('messages.breadcrumbs.blog')" :items="[]" />
            <div class="mb-8 absolute bottom-0 z-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="306" viewBox="0 0 1336 306" fill="none">
                    <g filter="url(#filter0_dd_139_13354)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M314.294 34.9774V271.218C314.294 275.889 323.835 273.913 332.831 273.913C340.749 273.913 347.949 273.913 355.324 273.913C356.945 268.883 355.868 221.814 355.324 211.574L354.785 164.685C354.785 158.398 353.528 155.882 353.528 149.055C353.528 149.415 354.246 149.415 354.246 149.774C354.246 149.954 354.246 150.133 354.246 150.133C355.324 151.93 354.785 150.672 355.324 152.11L383.939 211.574C388.979 222.533 393.474 232.414 399.052 243.372C416.332 280.201 403.553 273.913 446.025 273.913V36.9534C446.025 34.4384 446.025 34.4384 445.48 32.2825L413.088 32.1027C407.33 32.1027 405.714 31.0248 405.175 35.8755C403.553 50.2472 406.253 65.5176 406.253 78.9918C406.253 93.7232 406.253 108.095 406.253 122.826C406.253 138.277 407.33 150.133 407.33 165.763C404.631 162.709 360.902 59.4097 356.407 49.5289C354.246 44.1393 350.828 37.6717 349.745 32.2825C343.448 32.2825 337.331 32.2825 331.214 32.2825C327.791 32.2825 324.553 32.1027 321.135 32.1027C317.717 32.1027 314.294 31.3839 314.294 34.9774Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M922.905 127.677H891.052V74.1405C908.87 74.1405 926.323 71.6255 938.019 80.6082C957.638 96.4175 943.597 127.677 922.905 127.677ZM847.862 36.0548V273.913H891.052V170.613C908.331 170.613 920.745 168.098 931.901 177.26C932.44 177.44 933.523 178.697 934.242 178.877C942.519 187.321 943.597 193.609 943.597 208.699V259.181C943.597 277.865 935.863 273.913 986.248 273.913V197.741C986.248 188.399 983.549 177.979 980.67 171.691C979.048 168.278 977.252 164.685 975.091 161.451C972.751 157.858 970.052 155.163 967.712 152.109C975.63 146.72 985.709 128.215 987.87 117.616C992.904 98.3935 989.127 78.2724 979.048 63.1819L971.13 53.3012C969.513 51.5045 968.974 50.9655 967.173 49.7083C954.939 40.366 943.597 32.282 923.983 32.282H851.824C849.483 32.282 847.862 33.7191 847.862 36.0548Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M537.984 230.975H518.37V115.998C518.37 100.907 519.453 89.2305 519.453 74.1394H544.106C559.758 74.1394 570.556 87.254 570.556 103.243V197.021C570.556 216.962 558.681 230.975 537.984 230.975ZM475.724 36.0537V273.912H541.946C552.564 273.912 564.259 270.319 572.178 266.726C587.291 259.899 601.327 243.73 607.988 228.46C611.406 219.657 613.566 207.98 613.566 195.943V104.321C613.566 62.462 582.795 31.203 541.946 31.203C529.526 31.203 512.253 30.664 502.173 32.1011C489.76 33.3589 475.724 29.0471 475.724 36.0537Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1053.01 208.698V96.4158C1053.01 62.462 1103.94 61.7432 1103.94 96.4158V210.494C1103.94 220.914 1093.32 234.927 1078.2 234.927C1064.16 234.927 1053.01 222.711 1053.01 208.698ZM1075.32 277.864C1088.28 277.864 1096.02 276.786 1106.28 271.756C1128.59 260.437 1146.58 237.622 1146.58 213.548V95.5178C1146.58 60.8451 1114.55 28.1485 1083.24 28.1485C1065.25 28.1485 1054.09 29.9452 1039.51 40.3649C1029.97 47.3715 1022.77 54.9165 1017.73 66.0549C1010.36 80.0681 1009.82 85.8169 1009.82 106.117C1009.82 125.16 1010.9 187.14 1009.28 200.973C1007.48 211.393 1011.98 230.615 1017.73 240.137C1023.85 251.635 1029.44 257.743 1040.05 265.468C1047.97 271.396 1062 277.864 1075.32 277.864Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M686.443 106.118V197.74C686.443 210.136 687.526 220.556 690.405 229.898C703.357 269.061 746.906 289.542 785.057 271.217C794.058 266.726 798.554 262.415 805.215 255.588C816.551 244.27 824.29 227.203 824.29 204.747V151.031C824.29 148.875 823.746 148.157 821.591 148.157H754.825V188.218C754.825 190.374 755.364 191.093 757.704 191.093H781.1C781.1 209.418 782.902 234.928 754.286 234.928C742.591 234.928 730.71 222.891 730.71 211.573V93.7221C730.71 74.14 763.826 56.7143 777.318 84.7395C785.057 100.729 777.318 114.921 784.518 114.921H821.591C826.086 114.921 824.29 110.43 824.29 100.37C824.29 89.4104 822.668 79.1705 819.251 71.2659C816.551 64.2593 810.793 55.4565 805.754 50.2467C799.092 43.7791 795.675 40.0063 786.858 35.3354C767.783 24.9158 743.129 25.9937 723.515 36.0542C715.597 40.0063 710.018 46.1148 703.901 52.4025C690.404 66.056 686.443 86.3564 686.443 106.118Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1237.28 277.862C1260.31 277.862 1274.35 270.676 1287.66 257.561C1297.2 248.04 1308 230.614 1308 211.571V36.9496C1308 34.4346 1307.28 34.4346 1306.74 32.2788C1295.58 32.2788 1284.42 32.2788 1273.81 32.0989C1262.47 31.7398 1264.81 28.8651 1264.81 57.6097V191.989C1264.81 205.822 1266.43 213.188 1260.85 222.17C1250.77 239.417 1228.28 238.339 1219.46 224.864C1214.96 218.038 1213.7 212.828 1214.25 201.869V43.9562C1214.25 28.8651 1220.54 32.2788 1173.93 32.2788C1169.43 32.2788 1171.24 40.0036 1171.24 48.8064V187.138C1171.24 201.69 1169.43 209.235 1172.31 223.068C1174.47 232.949 1179.51 243.369 1185.27 250.375C1191.93 258.639 1196.97 263.67 1206.51 269.059C1214.25 273.73 1225.04 277.862 1237.28 277.862Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M223.6 103.243L240.335 209.776H206.865L220.182 130.91C221.439 122.825 223.6 112.765 223.6 103.243ZM154.14 273.912H196.067C196.786 266.007 200.024 255.587 200.024 247.503H247.176C247.176 255.767 250.594 265.828 251.132 273.912H293.06C293.06 266.906 270.028 138.994 267.329 122.106C265.707 112.765 263.911 100.908 261.75 91.3864C259.949 80.9668 258.333 71.0855 256.711 60.6658C256.172 56.1748 254.915 50.2462 253.832 45.5753C252.754 39.2875 252.754 32.2809 248.792 32.2809C189.95 32.2809 197.869 27.9692 194.99 44.8565L175.914 151.21C174.831 155.881 154.14 266.546 154.14 273.912Z" fill="#F3F3F3"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M28 34.9769V273.913H144.612V233.85C144.612 231.874 144.068 230.976 141.733 230.976H71.19V32.282H31.4177C29.2572 32.282 28 32.821 28 34.9769Z" fill="#F3F3F3"/>
                    </g>
                    <defs>
                        <filter id="filter0_dd_139_13354" x="0" y="0" width="1336" height="306" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feMorphology radius="4" operator="erode" in="SourceAlpha" result="effect1_dropShadow_139_13354"/>
                            <feOffset/>
                            <feGaussianBlur stdDeviation="2"/>
                            <feComposite in2="hardAlpha" operator="out"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.05 0"/>
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_139_13354"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feMorphology radius="4" operator="erode" in="SourceAlpha" result="effect2_dropShadow_139_13354"/>
                            <feOffset/>
                            <feGaussianBlur stdDeviation="16"/>
                            <feComposite in2="hardAlpha" operator="out"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.15 0"/>
                            <feBlend mode="normal" in2="effect1_dropShadow_139_13354" result="effect2_dropShadow_139_13354"/>
                            <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_139_13354" result="shape"/>
                        </filter>
                    </defs>
                </svg>
            </div>


            <!-- Tab Navigation -->
            <nav class="inline-flex items-start px-0 py-2 h-[43px] w-[1180px] max-md:box-border max-md:px-5 max-md:py-0 max-md:w-full max-md:max-w-[1180px] mb-8" role="tablist" aria-label="Content categories">
                <div class="flex flex-col gap-2 items-center max-sm:shrink-0" role="presentation">
                    <button wire:click="setCategory('all')" class="flex gap-2.5 justify-center items-center px-4 py-0 tab-button" role="tab" aria-selected="{{ $selectedCategory === 'all' ? 'true' : 'false' }}" tabindex="{{ $selectedCategory === 'all' ? '0' : '-1' }}">
                        <span class="text-sm font-bold leading-4 text-center {{ $selectedCategory === 'all' ? 'text-green-600' : 'text-zinc-800' }}">Всі</span>
                    </button>
                    <div class="self-stretch {{ $selectedCategory === 'all' ? 'bg-green-600 rounded h-[3px]' : 'h-px bg-neutral-400' }}"></div>
                </div>
            </nav>

            <!-- Page Title -->
            <h1 class="text-2xl font-bold leading-7 text-black h-[29px] w-[1180px] max-md:box-border max-md:px-5 max-md:py-0 max-md:w-full max-md:max-w-[1180px] max-sm:text-xl max-sm:leading-6 mb-8">
                {{ __('messages.blog.title') }}
            </h1>

            <!-- Blog Cards Grid -->
            <section class="space-y-8 mb-10 relative z-1" aria-label="Blog posts">
                @if (isset($error))
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                        {{ $error }}
                    </div>
                @endif

                @php
                    $postsChunked = $posts->chunk(4); // Split posts into groups of 4 for rows
                @endphp

                @forelse ($postsChunked as $chunk)
                        <div class="blog-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 8px; max-width: 100%; padding: 20px 0px;">
                            @foreach ($chunk as $post)
                                @php
                                    $hasValidSlug = false;
                                    $slug = null;

                                    // Check slug (slugs are the same across all locales)
                                    if ($post->defaultUrl && !empty($post->defaultUrl->slug)) {
                                        $slug = $post->defaultUrl->slug;
                                        $hasValidSlug = is_string($slug) && trim($slug) !== '';
                                    } elseif (!empty($post->slug) && is_string($post->slug) && trim($post->slug) !== '') {
                                        $slug = $post->slug;
                                        $hasValidSlug = true;
                                    }

                                    $locale = app()->getLocale();
                                    $routeParams = ['slug' => $slug];
                                    if ($locale !== 'pl') {
                                        $routeParams['locale'] = $locale;
                                    }

                                    $postUrl = $hasValidSlug ? route('blog.post', $routeParams, false) : route('home', $locale !== 'pl' ? ['locale' => $locale] : [], false);
                                @endphp

                            <article wire:key="post-{{ $post->id }}" class="flex flex-col items-start rounded-3xl bg-neutral-200 relative blog-card max-sm:w-full overflow-hidden" style="border-radius: 20px" tabindex="0" role="article">
                                <div class="flex justify-center items-center self-stretch h-[153px] overflow-hidden rounded-t-3xl">
                                    <img
                                        src="{{ $post->banner ? Storage::url($post->banner) : 'https://via.placeholder.com/300x158' }}"
                                        alt="{{ $post->getTranslation('title', app()->getLocale()) }}"
                                        class="h-[171px] w-full object-cover"
                                    />
                                </div>
                                <div class="flex flex-col gap-4 items-start self-stretch p-4">
                                    <p class="overflow-hidden self-stretch text-base font-semibold leading-5 text-ellipsis text-zinc-800">
                                        {{ Str::limit($post->getTranslation('excerpt', app()->getLocale()), 150) }}
                                    </p>
                                    <time class="self-stretch text-xs font-semibold leading-5 text-neutral-400" datetime="{{ $post->published_at ? $post->published_at->format('Y-m-d') : '' }}">
                                        {{ $post->published_at ? $post->published_at->format('d.m.Y') : __('blog.no_date') }}
                                    </time>
                                </div>
                                <a href="{{ $postUrl }}" wire:navigate class="flex right-0 gap-2.5 justify-center items-center px-2 py-0 w-14 h-14 absolute top-0 right-0">
                                    <div class="relative shrink-0 h-[35px] w-[35px]">
                                        <svg
                                            width="23"
                                            height="23"
                                            viewBox="0 0 23 23"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="w-[23px] h-[23px] absolute left-[6px] top-[7px]"
                                            aria-hidden="true"
                                        >
                                            <path
                                                d="M21.8027 0.196716C22.3548 0.196925 22.8027 0.644626 22.8027 1.19672V21.7534C22.8027 22.3055 22.3548 22.7531 21.8027 22.7534C21.2507 22.7531 20.8038 22.3054 20.8037 21.7534L20.8027 16.6137C20.7603 11.8976 15.1435 9.52508 11.7344 12.685L11.5732 12.8403L2.90332 21.5102C2.51284 21.9007 1.87979 21.9006 1.48926 21.5102C1.12332 21.1441 1.09979 20.565 1.41992 20.1723L1.48926 20.0961L10.1777 11.4077C13.5696 8.01515 11.1791 2.21438 6.38184 2.19672H1.24609C0.693885 2.19672 0.246217 1.7489 0.246094 1.19672C0.246171 0.644497 0.693857 0.196716 1.24609 0.196716H21.8027ZM15.1689 9.24554C17.2741 9.19543 19.3478 10.053 20.8018 11.5776L20.8037 3.61078L15.1689 9.24554ZM11.4424 2.19672C12.9621 3.64751 13.8183 5.71579 13.7695 7.81586L19.3887 2.19672H11.4424Z"
                                                fill="white"
                                            />
                                        </svg>
                                    </div>
                                </a>
                                @if (!$hasValidSlug)
                                    <div class="p-4 text-red-600 text-sm">
                                        Предупреждение: URL или slug отсутствует для поста ID: {{ $post->id }} (Локаль: {{ app()->getLocale() }})
                                    </div>
                                @endif
                            </article>
                        @endforeach
                    </div>
                @empty
                    <p class="text-center text-base font-semibold text-zinc-800">Нет постов по выбранным параметрам.</p>
                @endforelse
            </section>

            <!-- Pagination -->
            <nav class="flex gap-2 justify-center items-center pt-10" aria-label="Pagination Navigation">
                {{ $posts->links('livewire::simple-bootstrap') }}
            </nav>
        </div>
        <script>
            // Add keyboard navigation for tab controls
            document.addEventListener('DOMContentLoaded', function() {
                const tabs = document.querySelectorAll('[role="tab"]');
                const blogCards = document.querySelectorAll('.blog-card');

                // Tab navigation
                tabs.forEach((tab, index) => {
                    tab.addEventListener('keydown', function(e) {
                        if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
                            e.preventDefault();
                            const nextIndex = e.key === 'ArrowRight'
                                ? (index + 1) % tabs.length
                                : (index - 1 + tabs.length) % tabs.length;

                            tabs[index].setAttribute('tabindex', '-1');
                            tabs[nextIndex].setAttribute('tabindex', '0');
                            tabs[nextIndex].focus();
                        }

                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            tab.click();
                        }
                    });
                });

                // Blog card keyboard navigation
                blogCards.forEach(card => {
                    card.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const link = card.querySelector('a');
                            if (link) {
                                link.click();
                            }
                        }
                    });
                });

                // Pagination keyboard navigation
                const paginationButtons = document.querySelectorAll('.pagination-button');
                paginationButtons.forEach(button => {
                    button.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            button.click();
                        }
                    });
                });
            });
        </script>

        <style>
            .logo-svg {
                filter: drop-shadow(0px 0px 4px rgba(12, 12, 13, 0.05)) drop-shadow(0px 0px 32px rgba(12, 12, 13, 0.15));
            }

            .arrow-bg {
                transform: rotate(-45deg);
            }

            .blog-card:hover .arrow-bg {
                transform: rotate(-45deg) scale(1.1);
                transition: transform 0.2s ease;
            }

            .blog-card:focus-within .arrow-bg {
                transform: rotate(-45deg) scale(1.1);
            }

            .pagination-button:hover {
                background-color: #f3f4f6;
                transition: background-color 0.2s ease;
            }

            .pagination-button:focus {
                outline: 2px solid #16a34a;
                outline-offset: 2px;
            }

            .tab-button:focus {
                outline: 2px solid #16a34a;
                outline-offset: 2px;
            }

            .blog-card:focus-within {
                outline: 2px solid #16a34a;
                outline-offset: 2px;
            }
        </style>
    </div>

